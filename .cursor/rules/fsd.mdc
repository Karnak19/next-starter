---
description: Simplified project architecture rules
globs: src/**/*
alwaysApply: false
---

# Project Architecture

This project uses a simplified architecture with three main layers in `src/`.

## Structure

```
src/
├── features/     # User interactions and business logic
├── widgets/      # Large composite UI blocks
└── shared/       # UI kit, utilities, API client, types, providers
```

## Import Rules

| Layer    | Can Import From       |
| -------- | --------------------- |
| widgets  | features, shared      |
| features | shared                |
| shared   | External packages only |

### Guidelines

- **No barrel files** - import directly from files, not index.ts
- **Flat structure** - avoid deep nesting, keep files at slice root
- **Direct imports** - use `@/shared/ui/button` not `@/shared/ui`

## Path Aliases

- `@/*` → `./src/*`
- `~/*` → `./*` (project root)

```typescript
// ✅ Correct - direct file imports
import { Button } from "@/shared/ui/button";
import { SignInForm } from "@/features/auth/sign-in-form";
import { UserMenu } from "@/widgets/user-menu/user-menu";
import { Providers } from "@/shared/providers/providers";

// ❌ Wrong - barrel imports
import { Button } from "@/shared/ui";
import { SignInForm } from "@/features/auth";
```

## Slice Structure

Keep slices flat with files at the root:

```
features/auth/
├── sign-in-form.tsx
├── sign-up-form.tsx
├── use-sign-in.ts
├── use-sign-up.ts
└── schemas.ts

widgets/user-menu/
└── user-menu.tsx

shared/
├── ui/           # shadcn components
├── lib/          # utilities
├── db/           # database clients
├── auth/         # auth helpers
├── storage/      # storage helpers
├── providers/    # React providers
└── config.ts     # app configuration
```

## Naming Conventions

- **Folders**: `kebab-case` (e.g., `user-menu`, `health-status`)
- **Components**: `kebab-case.tsx` (e.g., `sign-in-form.tsx`)
- **Hooks**: `use-kebab-case.ts` (e.g., `use-sign-in.ts`)
- **Features**: Named as actions (`auth`, `send-message`)
- **Widgets**: Named as UI blocks (`user-menu`, `health-status`)

## Next.js Integration

Page components live directly in the Next.js `app/` folder. No separate pages layer.

```typescript
// app/auth/sign-in/page.tsx
import { SignInForm } from "@/features/auth/sign-in-form";

export default function SignInPage() {
  return <SignInForm />;
}
```
